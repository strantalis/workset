import type { ITheme } from '@xterm/xterm';

export type ThemeDefinition = {
  id: string;
  name: string;
  group: 'dark' | 'light';
  tokens: Record<string, string>;
  terminal: ITheme;
};

// ── Dark: Default ─────────────────────────────────────────────
const dark: ThemeDefinition = {
  id: 'dark',
  name: 'Dark',
  group: 'dark',
  tokens: {
    '--bg': '#0a0a0c',
    '--panel': '#111113',
    '--panel-strong': '#19191b',
    '--panel-soft': '#0f0f11',
    '--surface': '#19191b',
    '--surface-hover': '#202023',
    '--text': '#ececee',
    '--muted': '#737380',
    '--border': 'rgba(255, 255, 255, 0.07)',
    '--border-active': 'rgba(255, 255, 255, 0.12)',
    '--accent': '#818cf8',
    '--accent-soft': 'rgba(129, 140, 248, 0.08)',
    '--accent-border': 'rgba(129, 140, 248, 0.2)',
    '--success': '#34d399',
    '--success-soft': 'rgba(52, 211, 153, 0.08)',
    '--success-border': 'rgba(52, 211, 153, 0.18)',
    '--warning': '#fbbf24',
    '--warning-soft': 'rgba(251, 191, 36, 0.08)',
    '--warning-border': 'rgba(251, 191, 36, 0.18)',
    '--danger': '#f87171',
    '--danger-soft': 'rgba(248, 113, 113, 0.08)',
    '--danger-border': 'rgba(248, 113, 113, 0.18)',
  },
  terminal: {
    background: '#0a0a0c',
    foreground: '#ececee',
    cursor: '#818cf8',
    selectionBackground: 'rgba(129, 140, 248, 0.3)',
    black: '#19191b',
    brightBlack: '#737380',
    red: '#f87171',
    brightRed: '#fca5a5',
    green: '#34d399',
    brightGreen: '#6ee7b7',
    yellow: '#fbbf24',
    brightYellow: '#fde68a',
    blue: '#818cf8',
    brightBlue: '#a5b4fc',
    magenta: '#c084fc',
    brightMagenta: '#d8b4fe',
    cyan: '#67e8f9',
    brightCyan: '#a5f3fc',
    white: '#ececee',
    brightWhite: '#ffffff',
  },
};

// ── Dark: Midnight ────────────────────────────────────────────
const midnight: ThemeDefinition = {
  id: 'midnight',
  name: 'Midnight',
  group: 'dark',
  tokens: {
    '--bg': '#080b14',
    '--panel': '#0d1120',
    '--panel-strong': '#141929',
    '--panel-soft': '#0a0e18',
    '--surface': '#141929',
    '--surface-hover': '#1a2035',
    '--text': '#e2e8f0',
    '--muted': '#64748b',
    '--border': 'rgba(148, 163, 184, 0.08)',
    '--border-active': 'rgba(148, 163, 184, 0.14)',
    '--accent': '#60a5fa',
    '--accent-soft': 'rgba(96, 165, 250, 0.08)',
    '--accent-border': 'rgba(96, 165, 250, 0.2)',
    '--success': '#34d399',
    '--success-soft': 'rgba(52, 211, 153, 0.08)',
    '--success-border': 'rgba(52, 211, 153, 0.18)',
    '--warning': '#fbbf24',
    '--warning-soft': 'rgba(251, 191, 36, 0.08)',
    '--warning-border': 'rgba(251, 191, 36, 0.18)',
    '--danger': '#f87171',
    '--danger-soft': 'rgba(248, 113, 113, 0.08)',
    '--danger-border': 'rgba(248, 113, 113, 0.18)',
  },
  terminal: {
    background: '#080b14',
    foreground: '#e2e8f0',
    cursor: '#60a5fa',
    selectionBackground: 'rgba(96, 165, 250, 0.3)',
    black: '#141929',
    brightBlack: '#64748b',
    red: '#f87171',
    brightRed: '#fca5a5',
    green: '#34d399',
    brightGreen: '#6ee7b7',
    yellow: '#fbbf24',
    brightYellow: '#fde68a',
    blue: '#60a5fa',
    brightBlue: '#93c5fd',
    magenta: '#c084fc',
    brightMagenta: '#d8b4fe',
    cyan: '#67e8f9',
    brightCyan: '#a5f3fc',
    white: '#e2e8f0',
    brightWhite: '#ffffff',
  },
};

// ── Dark: Ember ───────────────────────────────────────────────
const ember: ThemeDefinition = {
  id: 'ember',
  name: 'Ember',
  group: 'dark',
  tokens: {
    '--bg': '#0e0b09',
    '--panel': '#161210',
    '--panel-strong': '#1e1916',
    '--panel-soft': '#12100e',
    '--surface': '#1e1916',
    '--surface-hover': '#27211d',
    '--text': '#f0ebe6',
    '--muted': '#8a7e74',
    '--border': 'rgba(255, 235, 210, 0.07)',
    '--border-active': 'rgba(255, 235, 210, 0.12)',
    '--accent': '#f59e0b',
    '--accent-soft': 'rgba(245, 158, 11, 0.08)',
    '--accent-border': 'rgba(245, 158, 11, 0.2)',
    '--success': '#34d399',
    '--success-soft': 'rgba(52, 211, 153, 0.08)',
    '--success-border': 'rgba(52, 211, 153, 0.18)',
    '--warning': '#fbbf24',
    '--warning-soft': 'rgba(251, 191, 36, 0.08)',
    '--warning-border': 'rgba(251, 191, 36, 0.18)',
    '--danger': '#f87171',
    '--danger-soft': 'rgba(248, 113, 113, 0.08)',
    '--danger-border': 'rgba(248, 113, 113, 0.18)',
  },
  terminal: {
    background: '#0e0b09',
    foreground: '#f0ebe6',
    cursor: '#f59e0b',
    selectionBackground: 'rgba(245, 158, 11, 0.3)',
    black: '#1e1916',
    brightBlack: '#8a7e74',
    red: '#f87171',
    brightRed: '#fca5a5',
    green: '#34d399',
    brightGreen: '#6ee7b7',
    yellow: '#f59e0b',
    brightYellow: '#fde68a',
    blue: '#60a5fa',
    brightBlue: '#93c5fd',
    magenta: '#c084fc',
    brightMagenta: '#d8b4fe',
    cyan: '#67e8f9',
    brightCyan: '#a5f3fc',
    white: '#f0ebe6',
    brightWhite: '#ffffff',
  },
};

// ── Light: Default ────────────────────────────────────────────
const light: ThemeDefinition = {
  id: 'light',
  name: 'Light',
  group: 'light',
  tokens: {
    '--bg': '#f8f8fa',
    '--panel': '#ffffff',
    '--panel-strong': '#f0f0f2',
    '--panel-soft': '#fafafa',
    '--surface': '#f0f0f2',
    '--surface-hover': '#e8e8ec',
    '--text': '#1a1a1e',
    '--muted': '#6e6e7a',
    '--border': 'rgba(0, 0, 0, 0.08)',
    '--border-active': 'rgba(0, 0, 0, 0.15)',
    '--accent': '#6366f1',
    '--accent-soft': 'rgba(99, 102, 241, 0.08)',
    '--accent-border': 'rgba(99, 102, 241, 0.2)',
    '--success': '#059669',
    '--success-soft': 'rgba(5, 150, 105, 0.06)',
    '--success-border': 'rgba(5, 150, 105, 0.18)',
    '--warning': '#d97706',
    '--warning-soft': 'rgba(217, 119, 6, 0.06)',
    '--warning-border': 'rgba(217, 119, 6, 0.18)',
    '--danger': '#dc2626',
    '--danger-soft': 'rgba(220, 38, 38, 0.06)',
    '--danger-border': 'rgba(220, 38, 38, 0.18)',
  },
  terminal: {
    background: '#f8f8fa',
    foreground: '#1a1a1e',
    cursor: '#6366f1',
    selectionBackground: 'rgba(99, 102, 241, 0.2)',
    black: '#1a1a1e',
    brightBlack: '#6e6e7a',
    red: '#dc2626',
    brightRed: '#ef4444',
    green: '#059669',
    brightGreen: '#10b981',
    yellow: '#d97706',
    brightYellow: '#f59e0b',
    blue: '#6366f1',
    brightBlue: '#818cf8',
    magenta: '#9333ea',
    brightMagenta: '#a855f7',
    cyan: '#0891b2',
    brightCyan: '#06b6d4',
    white: '#e8e8ec',
    brightWhite: '#ffffff',
  },
};

// ── Light: Dawn ───────────────────────────────────────────────
const dawn: ThemeDefinition = {
  id: 'dawn',
  name: 'Dawn',
  group: 'light',
  tokens: {
    '--bg': '#faf8f5',
    '--panel': '#fffefa',
    '--panel-strong': '#f2efe9',
    '--panel-soft': '#fdfbf8',
    '--surface': '#f2efe9',
    '--surface-hover': '#e9e5de',
    '--text': '#1c1917',
    '--muted': '#78716c',
    '--border': 'rgba(0, 0, 0, 0.07)',
    '--border-active': 'rgba(0, 0, 0, 0.13)',
    '--accent': '#7c3aed',
    '--accent-soft': 'rgba(124, 58, 237, 0.06)',
    '--accent-border': 'rgba(124, 58, 237, 0.18)',
    '--success': '#059669',
    '--success-soft': 'rgba(5, 150, 105, 0.06)',
    '--success-border': 'rgba(5, 150, 105, 0.18)',
    '--warning': '#d97706',
    '--warning-soft': 'rgba(217, 119, 6, 0.06)',
    '--warning-border': 'rgba(217, 119, 6, 0.18)',
    '--danger': '#dc2626',
    '--danger-soft': 'rgba(220, 38, 38, 0.06)',
    '--danger-border': 'rgba(220, 38, 38, 0.18)',
  },
  terminal: {
    background: '#faf8f5',
    foreground: '#1c1917',
    cursor: '#7c3aed',
    selectionBackground: 'rgba(124, 58, 237, 0.2)',
    black: '#1c1917',
    brightBlack: '#78716c',
    red: '#dc2626',
    brightRed: '#ef4444',
    green: '#059669',
    brightGreen: '#10b981',
    yellow: '#d97706',
    brightYellow: '#f59e0b',
    blue: '#7c3aed',
    brightBlue: '#8b5cf6',
    magenta: '#c026d3',
    brightMagenta: '#d946ef',
    cyan: '#0891b2',
    brightCyan: '#06b6d4',
    white: '#e9e5de',
    brightWhite: '#ffffff',
  },
};

// ── Light: Paper ──────────────────────────────────────────────
const paper: ThemeDefinition = {
  id: 'paper',
  name: 'Paper',
  group: 'light',
  tokens: {
    '--bg': '#f5f5f5',
    '--panel': '#fafafa',
    '--panel-strong': '#ebebeb',
    '--panel-soft': '#f7f7f7',
    '--surface': '#ebebeb',
    '--surface-hover': '#e0e0e0',
    '--text': '#171717',
    '--muted': '#636363',
    '--border': 'rgba(0, 0, 0, 0.09)',
    '--border-active': 'rgba(0, 0, 0, 0.16)',
    '--accent': '#0d9488',
    '--accent-soft': 'rgba(13, 148, 136, 0.06)',
    '--accent-border': 'rgba(13, 148, 136, 0.18)',
    '--success': '#059669',
    '--success-soft': 'rgba(5, 150, 105, 0.06)',
    '--success-border': 'rgba(5, 150, 105, 0.18)',
    '--warning': '#d97706',
    '--warning-soft': 'rgba(217, 119, 6, 0.06)',
    '--warning-border': 'rgba(217, 119, 6, 0.18)',
    '--danger': '#dc2626',
    '--danger-soft': 'rgba(220, 38, 38, 0.06)',
    '--danger-border': 'rgba(220, 38, 38, 0.18)',
  },
  terminal: {
    background: '#f5f5f5',
    foreground: '#171717',
    cursor: '#0d9488',
    selectionBackground: 'rgba(13, 148, 136, 0.2)',
    black: '#171717',
    brightBlack: '#636363',
    red: '#dc2626',
    brightRed: '#ef4444',
    green: '#059669',
    brightGreen: '#10b981',
    yellow: '#d97706',
    brightYellow: '#f59e0b',
    blue: '#2563eb',
    brightBlue: '#3b82f6',
    magenta: '#9333ea',
    brightMagenta: '#a855f7',
    cyan: '#0d9488',
    brightCyan: '#14b8a6',
    white: '#e0e0e0',
    brightWhite: '#ffffff',
  },
};

export const themes: ThemeDefinition[] = [dark, midnight, ember, light, dawn, paper];

export const DEFAULT_THEME_ID = 'dark';

export function getThemeById(id: string): ThemeDefinition | undefined {
  return themes.find((t) => t.id === id);
}
